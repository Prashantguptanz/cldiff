jar@corvus:~/g/cldiff$ make gbif
python3 src/ncbi_to_dwc.py work/ncbi/2020-01-01/dump --out work/ncbi/2020-01-01/converted.csv
2211727 accepteds
3127117 names
55969 merged
2211727 canonicalNames (NCBI scientific names)
407483 scientificNames (NCBI authorities)
CSV
Writing work/ncbi/2020-01-01/converted.csv
python3 src/subset_dwc.py work/ncbi/2020-01-01/converted.csv 9443 --out work/ncbi/2020-01-01/primates.csv
CSV
Header row: ['taxonID', 'NCBI Taxonomy ID', 'parentNameUsageID', 'taxonRank', 'acceptedNameUsageID', 'scientificName', 'canonicalName', 'taxonomicStatus', 'nomenclaturalStatus']
Nodes with children: 190794
Nodes in subset: 968
CSV
CSV
python3 src/report.py work/ncbi/2020-01-01/primates.csv --left-tag=B \
		      work/gbif/2019-09-16/primates.csv --right-tag=C --out work/ncbi-gbif.csv.new
No such property: number_of_synonyms
No such property: datasetID
No such property: originalNameUsageID
No such property: genericName
No such property: nameAccordingTo
No such property: namePublishedIn
No such property: taxonRemarks
No such property: kingdom
No such property: phylum
No such property: class
No such property: order
Node counts: 2079 7459
Preparing: work/ncbi-gbif.csv.new
# Number of particles: 496
# Number of cross-mrcas: 3139
# bailing out, forest
# C.Lemuridae conflicts with B.Lemuriformes because:
#   child B.Indriidae is disjoint while another child isn't
# C.Atelidae conflicts with B.Platyrrhini because:
#   child B.Cebidae is disjoint while another child isn't
# C.Lagothrix_lagothricha conflicts with B.Lagothrix because:
#   child B.Lagothrix_flavicauda is disjoint while another child isn't
# C.Pitheciidae conflicts with B.Pitheciidae because:
#   child B.Xenothricinae is disjoint while another child isn't
# C.Plecturocebus conflicts with B.Callicebinae because:
#   child B.Callicebus is disjoint while another child isn't
# C.Callicebus conflicts with B.Callicebus because:
#   child B.Callicebus_caquetensis is disjoint while another child isn't
# C.Cercopithecidae conflicts with B.Cercopithecidae because:
#   child B.Cercopithecinae is disjoint while another child isn't
# C.Trachypithecus conflicts with B.Trachypithecus because:
#   child B.Trachypithecus_vetulus is disjoint while another child isn't
# C.Trachypithecus_phayrei conflicts with B.Trachypithecus because:
#   child B.Trachypithecus_vetulus is disjoint while another child isn't
# C.Cercocebus_torquatus conflicts with B.Cercocebus because:
#   child B.Cercocebus_atys is disjoint while another child isn't
# C.Macaca_nemestrina conflicts with B.Macaca because:
#   child B.Macaca_arctoides is disjoint while another child isn't
# C.Semnopithecus conflicts with B.Colobinae because:
#   child B.Colobus is disjoint while another child isn't
# C.Callitrichidae conflicts with B.Cebidae because:
#   child B.Callitrichinae is disjoint while another child isn't
# C.Callithrix#2436453 conflicts with B.Cebidae because:
#   child B.Callitrichinae is disjoint while another child isn't
# C.Loris_lydekkerianus conflicts with B.Loris because:
#   child B.Loris_tardigradus is disjoint while another child isn't
# C.Loris_tardigradus conflicts with B.Loris because:
#   child B.Loris_tardigradus is disjoint while another child isn't
# C.Cebidae conflicts with B.Simiiformes because:
#   child B.Platyrrhini is disjoint while another child isn't
# C.Cebus conflicts with B.Cebus because:
#   child B.Cebus_albifrons is disjoint while another child isn't
# bailing out, forest
# B.Strepsirrhini conflicts with C.Primates because:
#   child C.Callithricidae is disjoint while another child isn't
# B.Lemuriformes conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Lemuridae conflicts with C.Lemuridae because:
#   child C.Megaladapis is disjoint while another child isn't
# B.Hapalemur_griseus conflicts with C.Hapalemur because:
#   child C.Hapalemur_occidentalis is disjoint while another child isn't
# B.Lepilemuridae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Lorisiformes conflicts with C.Primates because:
#   child C.Callithricidae is disjoint while another child isn't
# B.Loris_tardigradus conflicts with C.Loris because:
#   child C.Loris_lydekkerianus is disjoint while another child isn't
# B.Loris_lydekkerianus conflicts with C.Loris because:
#   child C.Loris_lydekkerianus is disjoint while another child isn't
# B.Haplorrhini conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Simiiformes conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Platyrrhini conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cebidae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cebinae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cebus conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Pitheciidae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Pitheciinae conflicts with C.Pitheciidae because:
#   child C.Cheracebus is disjoint while another child isn't
# B.Callicebinae conflicts with C.Pitheciidae because:
#   child C.Pithecia is disjoint while another child isn't
# B.Callicebus conflicts with C.Pitheciidae because:
#   child C.Pithecia is disjoint while another child isn't
# B.Plecturocebus conflicts with C.Plecturocebus because:
#   child C.Plecturocebus_ornatus is disjoint while another child isn't
# B.Atelidae conflicts with C.Atelidae because:
#   child C.Xenothrix is disjoint while another child isn't
# B.Alouatta_seniculus conflicts with C.Alouatta because:
#   child C.Alouatta_sara is disjoint while another child isn't
# B.Atelinae conflicts with C.Atelidae because:
#   child C.Xenothrix is disjoint while another child isn't
# B.Catarrhini conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cercopithecoidea conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cercopithecidae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Cercopithecinae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Colobinae conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Trachypithecus conflicts with C.Cercopithecidae because:
#   child C.Rhinopithecus is disjoint while another child isn't
# B.Trachypithecus_phayrei conflicts with C.Trachypithecus because:
#   child C.Trachypithecus_hatinhensis is disjoint while another child isn't
# B.Semnopithecus conflicts with C.Semnopithecus because:
#   child C.Semnopithecus_vetulus is disjoint while another child isn't
# B.Hominoidea conflicts with C.Primates because:
#   child C.Galagonidae is disjoint while another child isn't
# B.Homininae conflicts with C.Hominidae because:
#   child C.Pongo#5219531 is disjoint while another child isn't
# Number of articulations in alignment: 1445
# Number of roots in merge: 1
# Number of non-roots in merge: 3019
# Changed status: 3020, changed: 739
mv work/ncbi-gbif.csv.new work/ncbi-gbif.csv
jar@corvus:~/g/cldiff$ 